

@using GadjIT_App.Pages.Smartflows.ComponentsSmartflowDetail._Agenda
@using GadjIT_App.Pages.Smartflows.ComponentsSmartflowDetail._Background
@using GadjIT_App.Pages.Smartflows.ComponentsSmartflowDetail._Backup
@using GadjIT_App.Pages.Smartflows.ComponentsSmartflowDetail._DataView
@using GadjIT_App.Pages.Smartflows.ComponentsSmartflowDetail._Documents
@using GadjIT_App.Pages.Smartflows.ComponentsSmartflowDetail._Fees
@using GadjIT_App.Pages.Smartflows.ComponentsSmartflowDetail._Header
@using GadjIT_App.Pages.Smartflows.ComponentsSmartflowDetail._Messages
@using GadjIT_App.Pages.Smartflows.ComponentsSmartflowDetail._Status
@implements IDisposable


    <div class="tran-block page-header-block ">
        <div class="page-header-title">
            <div>
                <div class="float-left back-link" @onclick="SelectHome">
                    <span class="col-alt fa fa-angle-double-left"></span>
                </div>
                <h3>Smartflow: @SelectedSmartflow.Name</h3>
            </div>
            <p class="hidden-md-down">
                Group: <span class="badge badge-grey mr-3">@SelectedSmartflow.CaseTypeGroup</span>
                Case Type: <span class="badge badge-grey mr-3">@SelectedSmartflow.CaseType</span>
                Smartflow: <span class="badge badge-grey mr-3"> @SelectedSmartflow.Name</span>

                @if(!SmartflowLockedForEdit && SmartflowLockedBy != null)
                {
                        <span class="pl-5">Locked by: @SmartflowLockedBy.FullName</span>
                        
                        <span class="ml-2 active-user font-120"><li class="fa fa-user" title="Smartflow Locked"></li></span>
                        
                } 


            </p>
            
        </div>
        
        <div class="push-right user-guide">
            <a href="@UserGuideURL" target="_blank" title="Link to Smartflow user guide">User Guide<span><i class="fa fa-circle-info"></i></span></a>
        </div>  
        
    </div>

    <div class="tran-block rounded">
        <div class="tran-navbar hidden-lg-down">
            <nav class="navbar navbar-expand ">

                <ul class="navbar-nav">
                    <li class="nav-item @(NavDisplay == "Chapter" ? "active" : "")" @onclick='() => ShowNav("Chapter")'>
                        <span class="font-120"><span class="fa fa-home" Title="Home - main Smartflow settings"></span></span>

                    </li>
                    <li class="nav-item @(NavDisplay == "Agenda" ? "active" : "")" @onclick='() => ShowNav("Agenda")'>
                        <span class="font-120"><span class="fa fa-folder-open" Title="Agenda (Progress Files) - make available documents from file history"></span></span>
                        <div class="subtitle">Agenda</div>
                    </li>
                    <li class="nav-item  @(NavDisplay == "Status" ? "active" : "")" @onclick='() => ShowNav("Status")'>
                        <span class="font-120"><span class="fa fa-battery-half" Title="Status - Smartflow status options to track progress"></span></span>
                        <div class="subtitle">Status</div>
                    </li>
                    <li class="nav-item @(NavDisplay == "Docs" ? "active" : "")" @onclick='() => ShowNav("Docs")'>
                        <span class="font-120"><span class="fa fa-file" Title="Documents and Steps - list documents and create workflow"></span></span>
                        <div class="subtitle">Docs</div>
                    </li>
                    <li class="nav-item @(NavDisplay == "Fees" ? "active" : "")" @onclick='() => ShowNav("Fees")'>
                        <span class="font-120"><span class="fa fa-pound-sign" Title="Fees and Disbursements"></span></span>
                        <div class="subtitle">Fees</div>
                    </li>
                    <li class="nav-item @(NavDisplay == "DataViews" ? "active" : "")" @onclick='() => ShowNav("DataViews")'>
                        <span class="font-120"><span class="fa fa-database" Title="Data Views - Managing Partner views to be available on Smartflow screen"></span></span>
                        <div class="subtitle">Data</div>
                    </li>
                    <li class="nav-item @(NavDisplay == "TickerMessages" ? "active" : "")" @onclick='() => ShowNav("TickerMessages")'>
                        <span class="font-120"><span class="fa fa-comment" Title="Messages - create ticker messages to inform users of updates or pending changes"></span></span>
                        <div class="subtitle">Messages</div>
                    </li>
                    @if (UserSession.IsAdminUser && SmartflowLockedForEdit)
                    {
                        <li class="nav-item @(NavDisplay == "Background" ? "active" : "")" @onclick='() => ShowNav("Background")'>
                            <span class="font-120"><span class="fa fa-image" Title="Background - set background colour or image"></span></span>
                            <div class="subtitle">Background</div>
                        </li>

                        <li class="nav-item @(NavDisplay == "Backups" ? "active" : "")" @onclick='() => ShowNav("Backups")'>
                            <span class="font-120"><span class="fa fa-save" Title="Backups - save, download and restore"></span></span>
                            <div class="subtitle">Backups</div>
                        </li>
                    }

                </ul>

            </nav>
        </div>

        <div class="page-navbar hidden-xl-up">
            <ul class="nav nav-pills tran-tabs">
                <li class="nav-item @(NavDisplay == "Chapter" ? "active" : "")" @onclick='() => ShowNav("Chapter")'>
                    <span class="font-120"><span class="fa fa-home" Title="Home - main Smartflow settings"></span></span>
                    <div class="subtitle">Home</div>
                </li>
                <li class="nav-item @(NavDisplay == "Agenda" ? "active" : "")" @onclick='() => ShowNav("Agenda")'>
                    <span class="font-120"><span class="fa fa-folder-open" Title="Agenda (Progress Files) - make available documents from file history"></span></span>
                    <div class="subtitle">Agenda</div>
                </li>
                <li class="nav-item  @(NavDisplay == "Status" ? "active" : "")" @onclick='() => ShowNav("Status")'>
                    <span class="font-120"><span class="fa fa-battery-half" Title="Status - Smartflow status options to track progress"></span></span>
                    <div class="subtitle">Status</div>
                </li>
                <li class="nav-item @(NavDisplay == "Docs" ? "active" : "")" @onclick='() => ShowNav("Docs")'>
                    <span class="font-120"><span class="fa fa-file" Title="Documents and Steps - list documents and create workflow"></span></span>
                    <div class="subtitle">Docs</div>
                </li>
                <li class="nav-item @(NavDisplay == "Fees" ? "active" : "")" @onclick='() => ShowNav("Fees")'>
                    <span class="font-120"><span class="fa fa-pound-sign" Title="Fees and Disbursements"></span></span>
                    <div class="subtitle">Fees</div>
                </li>
                <li class="nav-item @(NavDisplay == "DataViews" ? "active" : "")" @onclick='() => ShowNav("DataViews")'>
                    <span class="font-120"><span class="fa fa-database" Title="Data Views - Managing Partner views to be available on Smartflow screen"></span></span>
                    <div class="subtitle">Data</div>
                </li>
                <li class="nav-item @(NavDisplay == "TickerMessages" ? "active" : "")" @onclick='() => ShowNav("TickerMessages")'>
                    <span class="font-120"><span class="fa fa-comment" Title="Messages - create ticker messages to inform users of updates or pending changes"></span></span>
                    <div class="subtitle">Msg</div>
                </li>

            </ul>

        </div>

        

        @if (NavDisplay == "Chapter")
        {
            
            <SmartflowHeaderDetail    
                                    _Selected_ClientSmartflowRecord=@_Selected_VmClientSmartflowRecord.ClientSmartflowRecord
                                    _SelectedSmartflow=@SelectedSmartflow
                                    _P4WCaseTypeGroups=@P4WCaseTypeGroups
                                    _ListP4WViews=@ListP4WViews
                                    _LibraryDocumentsAndSteps=@LibraryDocumentsAndSteps
                                    _RefreshLibraryDocumentsAndSteps=RefreshLibraryDocumentsAndSteps
                                    _PreviewSmartflowImage=@PreviewSmartflowImage
                                    _UpdatePreviewImage=@UpdatePreviewImage
                                    _ShowNav=@ShowNav
                                    _SmartflowLockedForEdit=@SmartflowLockedForEdit
                                    >
            </SmartflowHeaderDetail>
            
                
        }

        @if (NavDisplay == "Agenda")
        {
            
            <SmartflowAgendaDetail    _LstAgendas=@LstAgendas
                                    _Selected_ClientSmartflowRecord=@_Selected_VmClientSmartflowRecord.ClientSmartflowRecord
                                    _SelectedSmartflow=@SelectedSmartflow
                                    _SmartflowUpdated=@SmartflowUpdated  
                                    _RefreshSmartflowItems=@RefreshSmartflowItems
                                    _SmartflowLockedForEdit=@SmartflowLockedForEdit
                                    >
            </SmartflowAgendaDetail>

            

        }

        
        @if (NavDisplay == "Status")
        {

            <SmartflowStatusDetail    _LstStatus=@LstStatus
                                    _Selected_ClientSmartflowRecord=@_Selected_VmClientSmartflowRecord.ClientSmartflowRecord
                                    _SelectedSmartflow=@SelectedSmartflow
                                    _SmartflowUpdated=@SmartflowUpdated
                                    _RefreshSmartflowItems=@RefreshSmartflowItems
                                    _SmartflowLockedForEdit=@SmartflowLockedForEdit
                                    >
            </SmartflowStatusDetail>

        }

        
        @if (NavDisplay == "Docs")
        {

            <SmartflowDocumentDetail  _LstDocs=@LstDocs
                                    _LstStatus=@LstStatus
                                    _LstAgendas=@LstAgendas
                                    _LibraryDocumentsAndSteps=@LibraryDocumentsAndSteps
                                    _TableDates=@TableDates
                                    _P4WCaseTypeGroups=@P4WCaseTypeGroups
                                    _Selected_ClientSmartflowRecord=@_Selected_VmClientSmartflowRecord.ClientSmartflowRecord
                                    _SelectedSmartflow=@SelectedSmartflow
                                    _SmartflowUpdated=@SmartflowUpdated  
                                    _RefreshSmartflowItems=@RefreshSmartflowItems
                                    _RefreshLibraryDocumentsAndSteps=RefreshLibraryDocumentsAndSteps
                                    _SmartflowLockedForEdit=@SmartflowLockedForEdit
                                    >
            </SmartflowDocumentDetail>

        }


        @if (NavDisplay == "Fees")
        {

            <SmartflowFeeDetail      _LstFees=@LstFees
                                    _Selected_ClientSmartflowRecord=@_Selected_VmClientSmartflowRecord.ClientSmartflowRecord
                                    _SelectedSmartflow=@SelectedSmartflow
                                    _SmartflowUpdated=@SmartflowUpdated
                                    _RefreshSmartflowItems=@RefreshSmartflowItems
                                    _SmartflowLockedForEdit=@SmartflowLockedForEdit
                                    >
            </SmartflowFeeDetail>

        }

        

        @if (NavDisplay == "DataViews")
        {

            <SmartflowDataViewDetail  _LstDataViews=@LstDataViews
                                    _Selected_ClientSmartflowRecord=@_Selected_VmClientSmartflowRecord.ClientSmartflowRecord
                                    _SelectedSmartflow=@SelectedSmartflow
                                    _SmartflowUpdated=@SmartflowUpdated
                                    _RefreshSmartflowItems=@RefreshSmartflowItems
                                    _ListP4WViews=@ListP4WViews
                                    _SmartflowLockedForEdit=@SmartflowLockedForEdit
                                    >
            </SmartflowDataViewDetail>

        }

        

        @if (NavDisplay == "TickerMessages")
        {

            <SmartflowMessageDetail   _LstMessages=@LstMessages
                                    _Selected_ClientSmartflowRecord=@_Selected_VmClientSmartflowRecord.ClientSmartflowRecord
                                    _SelectedSmartflow=@SelectedSmartflow
                                    _SmartflowUpdated=@SmartflowUpdated
                                    _RefreshSmartflowItems=@RefreshSmartflowItems
                                    _SmartflowLockedForEdit=@SmartflowLockedForEdit
                                    >
            </SmartflowMessageDetail>

        } 

        @if (NavDisplay == "Background")
        {
            <SmartflowBackgroundDetail    _Selected_ClientSmartflowRecord=@_Selected_VmClientSmartflowRecord.ClientSmartflowRecord
                                        _SelectedSmartflow=@SelectedSmartflow
                                        _SmartflowLockedForEdit=@SmartflowLockedForEdit
                                        >
            </SmartflowBackgroundDetail>
        }

        @if (NavDisplay == "Backups")
        {
            <SmartflowBackupDetail    _Selected_ClientSmartflowRecord=@_Selected_VmClientSmartflowRecord.ClientSmartflowRecord
                                    _SelectedSmartflow=@SelectedSmartflow
                                    _SmartflowUpdated=@SmartflowUpdated
                                    _SmartflowLockedForEdit=@SmartflowLockedForEdit
                                        >
            </SmartflowBackupDetail>
            
        }

    
    </div>


<div id="exp"></div>