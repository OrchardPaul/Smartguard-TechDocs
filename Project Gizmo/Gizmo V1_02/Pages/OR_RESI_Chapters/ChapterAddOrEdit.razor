
<EditForm Model="@TaskObject" OnValidSubmit="@HandleValidSubmit">

    <label for="DocName">Document / Step</label>

    <div class="form-group">
        @if (!addNewCaseTypeGroupOption)
        {
            <label>Case Type Group</label>
            @if (AllObjects is null)
            {
                <div class="spinner"></div>
            }
            else
            {
                <InputSelect @bind-Value="TaskObject.ChapterObject.CaseTypeGroup">
                    @foreach (var c in AllObjects.Where(C => C.ChapterObject.ParentId == 0)
                                          .Where(C => !(C.ChapterObject.CaseTypeGroup is null))
                                          .Select(C => C.ChapterObject.CaseTypeGroup)
                                          .Distinct()
                                          .ToList())
                            {
                        <option value="@c">
                            @c
                        </option>
                            }
                </InputSelect>
            }
        }
        else
        {
            <label>Case type group name</label>
            <InputText @bind-Value="TaskObject.ChapterObject.CaseTypeGroup"></InputText>
        }

        <input type="checkbox" @bind-value="addNewCaseTypeGroupOption" />
    </div>

    <div class="form-group">
        @if (!addNewCaseTypeOption)
        {


            <label>Case Type</label>
            @if (AllObjects is null)
            {
                <div class="spinner"></div>
            }
            else
            {
                <InputSelect @bind-Value="TaskObject.ChapterObject.CaseType">
                    @foreach (var c in AllObjects.Where(C => C.ChapterObject.ParentId == 0)
                                         .Where(C => !(C.ChapterObject.CaseType is null))
                                         .Select(C => C.ChapterObject.CaseType)
                                         .Distinct()
                                         .ToList())
                            {
                        <option value="@c">
                            @c
                        </option>
                            }
                </InputSelect>
            }

        }
        else
        {

            <label>Case type name</label>
            <InputText @bind-Value="TaskObject.ChapterObject.CaseType"></InputText>

        }

        <input type="checkbox" @bind-value="addNewCaseTypeOption" />
    </div>

    <div class="form-group">
        <label>Chapter Name</label>
        <InputText @bind-Value="TaskObject.ChapterObject.Name"></InputText>
    </div>

    <div class="button-container">
        <button type="submit" class="btn btn-primary">Submit</button>
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>

        @if (TaskObject.ChapterObject.Id != 0)
        {
            <button type="button" @onclick="HandleValidDelete" class="btn btn-secondary"></button>
        }
    </div>

</EditForm>